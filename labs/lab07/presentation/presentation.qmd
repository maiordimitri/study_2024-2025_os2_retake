---
## Author
author:
  name: Майоров Дмитрий Андреевич

## Title
title: Управление журналами событий в системе
---

# Цель работы

Получить навыки работы с журналами мониторинга различных событий в системе



# Выполнение лабораторной работы

Открываем три терминала и в каждом получаем полномочия администратора

![](image/img01.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

На второй вкладке терминала запусткаем мониторинг системных событий в реальном времени

![](image/img02.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

В третьей вкладке терминала возвращаемся к учётной записи своего пользователя и пробуем получить полномочия администратора, но вводим неправильный пароль. Во второй вкладке терминала
с мониторингом событий или ничего не отображается сообщение об ошибке

![](image/img03.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

В третьей вкладке терминала из оболочки пользователя вводим logger hello. Во второй вкладке терминала с мониторингом событий видим это же сообщение

![](image/img04.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Во второй вкладке терминала запускаем мониторинг сообщений безопасности

![](image/img05.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

В первой вкладке терминала устанавливаем Apache

![](image/img06.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Запускаем веб-службу

![](image/img07.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Во второй вкладке терминала смотрим журнал сообщений об ошибках веб-службы

![](image/img08.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Открываем файл /etc/httpd/conf/httpd.conf для редактирования и вводим в конце следующую строку

![](image/img09.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

В каталоге /etc/rsyslog.d создаем файл мониторинга событий веб-службы

![](image/img10.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Открываем его для редактирования и прописываем там следующую строку

![](image/img11.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

В первой вкладке терминала перезагрузжаем конфигурацию rsyslogd и веб-службу

![](image/img12.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

В третьей вкладке терминала создаем отдельный файл конфигурации для мониторинга отладочной информации и вводим туда нужную команду

![](image/img13.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

 первой вкладке терминала снова перезапускаем rsyslogd
 
![](image/img14.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы
 
Во второй вкладке терминала запускаем мониторинг отладочной информации, а в третьей вкладке терминала вводим следующую команду. В терминале с мониторингом смотрим сообщение отладки

![](image/img15.jpg){#fig-001 width=70%}

![](image/img16.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Во второй вкладке терминала смотрим содержимое журнала с событиями с момента последнего запуска системы

![](image/img17.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Смотрим содержимое журнала без пейджера

![](image/img18.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Смотрим журнал в реальном времени

![](image/img19.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Смотрим последние 20 строк журнала, сообщения об ошибках, все сообщения со вчерашнего дня, детальную информацию и доп. информацию о модуле sshd

![](image/img20.jpg){#fig-001 width=70%}

![](image/img21.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Создаем каталог для хранения записей журнала. Корректируем права доступа для каталога /var/log/journal, чтобы journald смог записывать в него информацию. Используем команду для принятия изменений. Смотрим сообщения журнала с момента перезагрузки

![](image/img22.jpg){#fig-001 width=70%}


# Выводы

Получены навыки работы с журналами мониторинга различных событий в системе
