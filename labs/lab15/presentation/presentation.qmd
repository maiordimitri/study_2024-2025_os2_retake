---
## Author
author:
  name: Майоров Дмитрий Андреевич

## Title
title: Управление логическими томами 

---

# Цель работы

Получить навыки управления логическими томами

# Выполнение лабораторной работы

Отмонтируем /mnt/data и /mnt/data-ext

![](image/img01.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Делаем новую разметку для диска /dev/sdb. Удаляем все ранее созданные партиции

![](image/img02.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Записываем изменения в таблицу разделов ядра и смотрим информацию о разделах

![](image/img03.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Создаем новый виртуальный жесткий диск размером 512мб

![](image/img04.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Делаем новую разметку для диска /dev/sdb. Создаем основной раздел с типом LVM 

![](image/img05.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Записываем изменения в таблицу разделов ядра. Указываес раздел как физический том LVM

![](image/img06.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Вводим команду pvs, чтобы убедиться, что физический том создан успешно

![](image/img07.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Создаем группу томов с присвоенным ей физическим томом. Убеждаемся, что она создана успешно. Вводим pvs и видим, что теперь эта команда показывает имя физических томов с именами групп томов, которым они назначены

![](image/img08.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Создаем логический том LVM с именем lvdata, который будет использовать 50% доступного дискового пространства в группе томов vgdata. Проверяем успешность добавления тома

![](image/img09.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Создаем файловую систему поверх логического тома и создаем папку, на которую можно смонтировать том

![](image/img10.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Открываем файл /etc/fstab для редактирования. Вводим туда нужную строку

![](image/img11.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Проверяем, монтируется ли файловая система

![](image/img12.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Вводим pvs и vgs, чтобы отобразить текущую конфигурацию физических томов и группы томов

![](image/img13.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Делаем новую разметку для диска /dev/sdb. Создаем новый раздел размером 100мб и типом 8е

![](image/img14.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Записываем изменения в таблицу разделов ядра. Создаем физический том. Расширяем vgdata

![](image/img15.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Проверяем, что размер доступной группы томов увеличен. Проверяем текущий размер логического тома lvdata

![](image/img16.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Проверяем текущий размер файловой системы на lvdata

![](image/img17.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Увеличиваем lvdata на 50% оставшегося доступного дискового пространства в группе томов

![](image/img18.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Убеждаемся, что добавленное дисковое пространство стало доступным

![](image/img19.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Уменьшаем размер lvdata на 50 МБ

![](image/img20.jpg){#fig-001 width=70%}

# Выполнение лабораторной работы

Убеждаемся в успешном изменении дискового пространства

![](image/img21.jpg){#fig-001 width=70%}

# Выводы

Получены навыки управления логическими томами
