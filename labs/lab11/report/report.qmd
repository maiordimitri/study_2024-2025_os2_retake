---
## Author
author:
  name: Майоров Дмитрий Андреевич


## Title
title: "Управление загрузкой системы"

---

# Цель работы

Получить навыки работы с загрузчиком системы GRUB2



# Выполнение лабораторной работы

Получаем полномочия администратора. Открываем файл /etc/default/grub для редактирования. И устанавливаем параметр GRUB_TIMEOUT=10

![](image/img01.jpg){#fig-001 width=70%}

Записываем изменения в GRUB2, введя в командной строке следующую команду. Перезагружаем систему и убеждаемся, что при загрузке мы видим прокрутку загрузочных сообщений

![](image/img02.jpg){#fig-001 width=70%}

![](image/img03.jpg){#fig-001 width=70%}

![](image/img04.jpg){#fig-001 width=70%}

При перезагрзке системы, при появлении меню GRUB выбираем строку с текущей версией ядра и нажимаем клавишу Е для редактирования. В конце строки, загружающей ядро, вводим systemd.unit=rescue.target. И удаляем опции rhgb и quit

![](image/img05.jpg){#fig-001 width=70%}

Смотрим список всех файлов модулей, которые загружены в настоящее время. Загружена базовая системная среда

![](image/img06.jpg){#fig-001 width=70%}

Смотрим задействованные переменные среды оболочки. Перезагружаем систему

![](image/img07.jpg){#fig-001 width=70%}

При перезагрзке системы, при появлении меню GRUB выбираем строку с текущей версией ядра и нажимаем клавишу Е для редактирования. В конце строки, загружающей ядро, вводим systemd.unit=emergency.target. И удаляем опции rhgb и quit

![](image/img08.jpg){#fig-001 width=70%}

Смотрим список всех файлов модулей, которые загружены в настоящее время. Видим, что количество загружаемых файлов модулей уменьшилось до минимума

![](image/img09.jpg){#fig-001 width=70%}

Снова запускаем виртуальную машину. При появлении меню GRUB выбираем строку с текущей версией ядра и нажимаем клавишу Е для редактирования. В конце строки, загружающей ядро, вводим rd.break И удаляем опции rhgb и quit

![](image/img10.jpg){#fig-001 width=70%}

Вводим команду mount -o remount,rw /sysroot для получения доступа к системному образу для чтения и записи. Делаем содержимое каталога /sysimage новым корневым каталогом. Устанавливаем новый пароль

![](image/img11.jpg){#fig-001 width=70%}

Загружаем политику SELinux, чтобы убедиться, что тип контекста установлен правильно

![](image/img12.jpg){#fig-001 width=70%}

Устанавливаем правильный тип контекста для /etc/shadow. Перезагружаем систему



# Выводы

Получены навыки работы с загрузчиком системы GRUB2
